import pygame
import pygame.camera
import sys
import os

pygame.init()
pygame.camera.init()

if bestContour >= 0:
                grovepi.digitalWrite(vibration_motor,1)
                #spend 3 seconds making 3 beeps
                for i in range(1,3):
                        grovepi.digitalWrite(buzzer_motor,1)
                        time.sleep(0.5)
                        grovepi.digitalWrite(buzzer_motor,0)
                        time.sleep(0.5)
        #end vibration
        grovepi.digitalWrite(vibration_motor,0)
        grovepi.digitalWrite(7,0)screen = pygame.display.set_mode((640,480),0)

os.system("sudo ./usbreset /dev/bus/usb/001/" + os.popen("lsusb | grep 'C270' | grep -o 'Device....' | grep -o '...$'").read())


cam_list = pygame.camera.list_cameras()

webcam = pygame.camera.Camera(cam_list[0],(32,24))
webcam.start()

while True:
	os.system("sudo ./usbreset /dev/bus/usb/001/" + os.popen("lsusb | grep 'C270' | grep -o 'Device....' | grep -o '...$'").read())
	cam_list = pygame.camera.list_cameras()
	webcam = pygame.camera.Camera(cam_list[0],(32,24))
	webcam.start()
	imagen = webcam.get_image()
	imagen = pygame.transform.scale(imagen, (640,480))
	scale.blit(imagen,(0,0))
	pygame.display.update()
	
